{"ast":null,"code":"var _jsxFileName = \"/home/iowk/exhibition_map/frontend/src/register.jsx\";\nimport React, { Component } from 'react';\nimport './register.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst backendPath = 'http://localhost:8000';\n\nclass Register extends Component {\n  // Full register page\n  constructor(props) {\n    super(props);\n\n    this.handleWriteUsername = event => {\n      this.setState({\n        username: event.target.value\n      }); //console.log(\"UserName:\",this.state.username);\n    };\n\n    this.handleWriteEmail = event => {\n      this.setState({\n        email: event.target.value\n      }); //console.log(\"Email:\",this.state.email);\n    };\n\n    this.handleWritePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handleWritePasswordConf = event => {\n      this.setState({\n        passwordConf: event.target.value\n      });\n    };\n\n    this._handleSubmit = event => {\n      // POST username, email and password\n      // TODO: email verification \n      if (this.state.password === this.state.passwordConf) {\n        fetch(backendPath + '/map/users/register/', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: this.state.username,\n            email: this.state.email,\n            password: this.state.password\n          })\n        }).then(res => {\n          if (!res.ok) {\n            alert(res.text());\n            console.log(\"Not OK:\", res.text());\n          }\n        }).catch(err => {\n          alert(err);\n          console.log(\"Error:\", err);\n        });\n        event.preventDefault(); // TODO: Registration success\n      } else {\n        alert(\"Confirm password incorrect\");\n        event.preventDefault();\n      }\n    };\n\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      passwordConf: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"register\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this._handleSubmit.bind(this),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"taDiv\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.username,\n            onChange: this.handleWriteUsername,\n            className: \"taBox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"taDiv\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.email,\n            onChange: this.handleWriteEmail,\n            className: \"taBox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"taDiv\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: this.state.password,\n            onChange: this.handleWritePassword,\n            className: \"taBox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"taDiv\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: this.state.passwordConf,\n            onChange: this.handleWritePasswordConf,\n            className: \"taBox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submitButton\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Register;","map":{"version":3,"names":["React","Component","backendPath","Register","constructor","props","handleWriteUsername","event","setState","username","target","value","handleWriteEmail","email","handleWritePassword","password","handleWritePasswordConf","passwordConf","_handleSubmit","state","fetch","method","headers","body","JSON","stringify","then","res","ok","alert","text","console","log","catch","err","preventDefault","render","bind"],"sources":["/home/iowk/exhibition_map/frontend/src/register.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport './register.css';\n\nconst backendPath = 'http://localhost:8000'\n\nclass Register extends Component {\n    // Full register page\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            email: '',\n            password: '',\n            passwordConf: '',\n        };\n    }\n    handleWriteUsername = (event) => {\n        this.setState({username: event.target.value});\n        //console.log(\"UserName:\",this.state.username);\n    }\n    handleWriteEmail = (event) => {\n        this.setState({email: event.target.value});\n        //console.log(\"Email:\",this.state.email);\n    }\n    handleWritePassword = (event) => {\n        this.setState({password: event.target.value});\n    }\n    handleWritePasswordConf = (event) => {\n        this.setState({passwordConf: event.target.value});\n    }\n    _handleSubmit = (event) => {\n        // POST username, email and password\n        // TODO: email verification \n        if(this.state.password===this.state.passwordConf){\n            fetch(backendPath+'/map/users/register/', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    username: this.state.username,\n                    email: this.state.email,\n                    password: this.state.password,\n                })\n            }).then(res => {\n                if(!res.ok){\n                    alert(res.text());\n                    console.log(\"Not OK:\",res.text());\n                }\n            }).catch(err => {\n                alert(err);\n                console.log(\"Error:\",err);\n            });\n            event.preventDefault();\n            // TODO: Registration success\n        }\n        else{\n            alert(\"Confirm password incorrect\");\n            event.preventDefault();\n        }\n    }\n    render() {\n        return(\n            <div id=\"register\">\n                <form onSubmit={this._handleSubmit.bind(this)}>\n                <div className='taDiv'>\n                    <span>Username</span>\n                    <input\n                        type='text'\n                        value={this.state.username}\n                        onChange={this.handleWriteUsername}\n                        className='taBox'\n                    />\n                </div>\n                <div className='taDiv'>\n                    <span>Email</span>\n                    <input\n                        type='text'\n                        value={this.state.email}\n                        onChange={this.handleWriteEmail}\n                        className='taBox'\n                    />\n                </div>\n                <div className='taDiv'>\n                    <span>Password</span>\n                    <input\n                        type='password'\n                        value={this.state.password}\n                        onChange={this.handleWritePassword}\n                        className='taBox'\n                    />\n                </div>\n                <div className='taDiv'>\n                    <span>Confirm Password</span>\n                    <input\n                        type='password'\n                        value={this.state.passwordConf}\n                        onChange={this.handleWritePasswordConf}\n                        className='taBox'\n                    />\n                </div>\n                <button type=\"submit\" className='submitButton'>\n                    Register\n                </button>\n                </form>\n            </div>);\n    }\n}\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}