{"ast":null,"code":"var _jsxFileName = \"/home/iowk/exhibition_map/frontend/src/navbar.jsx\";\nimport { React, Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jwtVerify } from './auth';\nimport './navbar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass NavBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: ''\n    };\n  }\n\n  componentDidMount() {\n    let isMounted = true;\n    jwtVerify().then(res => {\n      if (isMounted) this.setState({\n        username: localStorage.getItem('username')\n      });\n    });\n    return () => {\n      isMounted = false;\n    };\n  }\n\n  render() {\n    if (this.state.username) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/user\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: this.state.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nexport default NavBar;","map":{"version":3,"names":["React","Component","Link","jwtVerify","NavBar","constructor","props","state","username","componentDidMount","isMounted","then","res","setState","localStorage","getItem","render"],"sources":["/home/iowk/exhibition_map/frontend/src/navbar.jsx"],"sourcesContent":["import {React, Component} from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {jwtVerify} from './auth';\nimport './navbar.css'\n\nclass NavBar extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            username: ''\n        }\n    }\n    componentDidMount(){\n        let isMounted = true;\n        jwtVerify()\n        .then(res => {\n            if(isMounted) this.setState({username: localStorage.getItem('username')});\n        });\n        return () => {\n            isMounted = false;\n        }\n    }\n    render(){\n        if(this.state.username) {\n            return(\n                <div className=\"navbar\">\n                    <Link to=\"/user\">\n                        <button>\n                            {this.state.username}\n                        </button>\n                    </Link>\n                </div>\n            );\n        }\n        else{\n            return(\n                <div className=\"navbar\">\n                    <Link to=\"/login\">\n                        <button>\n                            Login\n                        </button>\n                    </Link>\n                    <Link to=\"/register\">\n                        <button>\n                            Register\n                        </button>\n                    </Link>\n                </div>\n            );\n        }\n    }\n}\nexport default NavBar;"],"mappings":";AAAA,SAAQA,KAAR,EAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAAQC,SAAR,QAAwB,QAAxB;AACA,OAAO,cAAP;;;AAEA,MAAMC,MAAN,SAAqBH,SAArB,CAA+B;EAC3BI,WAAW,CAACC,KAAD,EAAO;IACd,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MACTC,QAAQ,EAAE;IADD,CAAb;EAGH;;EACDC,iBAAiB,GAAE;IACf,IAAIC,SAAS,GAAG,IAAhB;IACAP,SAAS,GACRQ,IADD,CACMC,GAAG,IAAI;MACT,IAAGF,SAAH,EAAc,KAAKG,QAAL,CAAc;QAACL,QAAQ,EAAEM,YAAY,CAACC,OAAb,CAAqB,UAArB;MAAX,CAAd;IACjB,CAHD;IAIA,OAAO,MAAM;MACTL,SAAS,GAAG,KAAZ;IACH,CAFD;EAGH;;EACDM,MAAM,GAAE;IACJ,IAAG,KAAKT,KAAL,CAAWC,QAAd,EAAwB;MACpB,oBACI;QAAK,SAAS,EAAC,QAAf;QAAA,uBACI,QAAC,IAAD;UAAM,EAAE,EAAC,OAAT;UAAA,uBACI;YAAA,UACK,KAAKD,KAAL,CAAWC;UADhB;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ;IASH,CAVD,MAWI;MACA,oBACI;QAAK,SAAS,EAAC,QAAf;QAAA,wBACI,QAAC,IAAD;UAAM,EAAE,EAAC,QAAT;UAAA,uBACI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QADJ,eAMI,QAAC,IAAD;UAAM,EAAE,EAAC,WAAT;UAAA,uBACI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QANJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ;IAcH;EACJ;;AA7C0B;;AA+C/B,eAAeJ,MAAf"},"metadata":{},"sourceType":"module"}